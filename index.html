<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/ac42c3b1f7.js" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathura Labana Portal</title>
    <link rel="stylesheet" href="ranjeeth.css">
</head>

<body>
    <div class="edge-panel" id="mainEdgePanel">
        <div class="edge-tab" onclick="toggleEdge()"><i class="fas fa-bullhorn" id="edgeIcon"></i><span class="badge badge-danger badge-dot"></span></div>
        <div class="edge-content shadow-lg">
            <h6 class="edge-header text-uppercase">Quick Updates</h6>
            <div class="edge-item" onclick="window.open('https://internshala.com/free-job-alerts/', '_blank')">
                <div class="edge-icon bg-primary text-white"><i class="fas fa-briefcase"></i></div>
                <div class="edge-text"><strong>Jobs</strong><p>Internshala</p></div>
            </div>
            <div class="edge-item" onclick="window.open('https://www.buddy4study.com/', '_blank')">
                <div class="edge-icon bg-success text-white"><i class="fas fa-graduation-cap"></i></div>
                <div class="edge-text"><strong>Scholarships</strong><p>Buddy4Study</p></div>
            </div>
            <hr class="border-light opacity-20">
            <div class="d-flex justify-content-around mt-2">
                <a href="https://www.instagram.com/troubleshooter_19" target="_blank" class="text-white"><i class="fab fa-instagram"></i></a>
                <a href="https://www.linkedin.com/in/ranjeethmanja" target="_blank" class="text-white"><i class="fab fa-linkedin"></i></a>
                <a href="https://www.instagram.com/mathura_labana_ranjeeth" target="_blank" class="text-white"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </div>

    <div id="section1">
        <div class="d-flex flex-column justify-content-center align-items-center section1_container container-fluid text-center">
            <h1 class="main_section_heading">"Mathura Labana Portal"</h1>
            <button class="btn btn-primary btn-custom shadow mt-4" onclick="display('section2')">Enter Portal</button>
        </div>
    </div>

    <div id="section2" style="display: none;">
        <div class="second_container d-flex flex-column align-items-center">
            <div class="container">
                <h3 class="name-text text-center mb-4 text-white">Explore Directories</h3>
                <div class="row justify-content-center">
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section3')"><i class="fas fa-chalkboard-teacher fa-2x text-primary mb-2"></i><p class="small font-weight-bold">Teaching</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section4')"><i class="fas fa-user-shield fa-2x text-dark mb-2"></i><p class="small font-weight-bold">Police</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section5')"><i class="fas fa-medal fa-2x text-success mb-2"></i><p class="small font-weight-bold">Army</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section6')"><i class="fas fa-user-graduate fa-2x text-info mb-2"></i><p class="small font-weight-bold">Students</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section9')"><i class="fas fa-user-md fa-2x text-danger mb-2"></i><p class="small font-weight-bold">Healthcare</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section10')"><i class="fas fa-university fa-2x text-secondary mb-2"></i><p class="small font-weight-bold">Banking</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section11')"><i class="fas fa-train fa-2x text-warning mb-2"></i><p class="small font-weight-bold">Railways</p></div></div>
                    <div class="col-6 col-md-3 p-2"><div class="category-card shadow-sm" onclick="display('section12')"><i class="fas fa-briefcase fa-2x text-success mb-2"></i><p class="small font-weight-bold">Others</p></div></div>
                </div>
                <div class="row justify-content-center mt-4">
                    <div class="col-11 col-md-6"><button class="btn btn-warning btn-block rounded-pill font-weight-bold" onclick="display('section7')">Add Information</button></div>
                </div>
            </div>
            <div class="contact-section-fixed"><div class="d-flex justify-content-center"><a href="https://www.instagram.com/troubleshooter_19"><i class="fab fa-instagram fa-2x mx-3 icon-ig"></i></a><a href="https://www.linkedin.com/in/ranjeethmanja"><i class="fab fa-linkedin fa-2x mx-3 icon-li"></i></a><a href="https://www.instagram.com/mathura_labana_ranjeeth"><i class="fab fa-instagram fa-2x mx-3 icon-ig"></i></a></div></div>
            <button class="btn btn-secondary btn-custom mt-3" onclick="display('section1')">Back</button>
        </div>
    </div>

    <div id="section3" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Teachers</h2><input type="text" class="form-control rounded-pill mb-3" placeholder="Search..." onkeyup="filterData('teacherList', this.value)"><div class="container" id="teacherList"></div><div class="contact-section-fixed">...</div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    <div id="section4" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Police</h2><input type="text" class="form-control rounded-pill mb-3" placeholder="Search..." onkeyup="filterData('policeList', this.value)"><div class="container" id="policeList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    <div id="section5" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Army</h2><div class="container" id="armyList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    <div id="section6" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Students</h2><input type="text" class="form-control rounded-pill mb-3" placeholder="Search..." onkeyup="filterData('studentList', this.value)"><div class="container" id="studentList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    
    <div id="section9" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Healthcare</h2><div class="container" id="healthcareList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    <div id="section10" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Banking</h2><div class="container" id="bankingList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    <div id="section11" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Railways</h2><div class="container" id="railwayList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>
    <div id="section12" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Others</h2><div class="container" id="othersList"></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>

    <div id="section8" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Latest Updates</h2><div class="container"><div class="notification-card p-3 mb-3 border-primary" onclick="window.open('https://internshala.com/free-job-alerts/')"><h5>Job Alerts <i class="fas fa-external-link-alt"></i></h5><p>Visit Internshala</p></div><div class="notification-card p-3 mb-3 border-success" onclick="window.open('https://www.buddy4study.com/')"><h5>Scholarships <i class="fas fa-external-link-alt"></i></h5><p>Visit Buddy4Study</p></div></div><button class="btn btn-secondary mt-3" onclick="display('section2')">Back</button></div></div>

    <div id="section7" style="display: none;"><div class="second_container d-flex flex-column align-items-center"><h2>Add Profile</h2><a href="https://docs.google.com/forms/d/e/1FAIpQLSfnKjZOQUBhKvCy4MRuP0uENqE9xeALEmA6b3DChGX7YayScQ/viewform" target="_blank" class="btn btn-primary p-3 rounded-pill shadow">Open Form</a><button class="btn btn-secondary mt-5" onclick="display('section2')">Back</button></div></div>

    <script>
        // EVERY SINGLE MEMBER WE HAVE DISCUSSED (STAY PERMANENT)
        const permanentData = [
            // TEACHERS
            {name: "Bardhaval Meghraj", details: "JL History | Domakonda College | 889751935", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770470614/WhatsApp_Image_2026-02-07_at_18.17.34_umwaoy.jpg", category: "Teacher"},
            {name: "Manja Penatiah", details: "ALL Subjects | Gauraram | 8008070900", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770457102/WhatsApp_Image_2026-02-07_at_15.04.39_w2xc7y.jpg", category: "Teacher"},
            {name: "Manja Sharadha", details: "Pre-primary | Thipparam Thanda | 8008070900", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770458073/WhatsApp_Image_2026-02-07_at_15.24.02_yeerz9.jpg", category: "Teacher"},
            // POLICE
            {name: "M. Gabbar Singh", details: "Law & Order | Nizamabad Town-VI", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770460446/WhatsApp_Image_2026-02-07_at_15.50.21_hh26jl.jpg", category: "Police"},
            {name: "Bassi Jeevandas", details: "SDRF and TGSP | Dichpally", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770462200/WhatsApp_Image_2026-02-07_at_16.32.32_x8988v.jpg", category: "Police"},
            {name: "Bassi Ganesh", details: "SDRF/RAF | 6302128939", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770471965/IMG-20260206-WA0074_-_BASSI_GANESH_gqqgo4.jpg", category: "Police"},
            {name: "MANJA PELACH", details: "TG Special Police | 8500004326", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770478906/IMG_20190721_124825_-_MANJA_PELACH_va0kae.jpg", category: "Police"},
            // ARMY
            {name: "Manja Eshwar", details: "Driving | Open Rally Agniveer", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770461227/WhatsApp_Image_2026-02-07_at_16.15.05_nreswz.jpg", category: "Army"},
            // STUDENTS
            {name: "Baman Teja", details: "M.Tech | IIT BHUBANESWAR (2028)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770458789/WhatsApp_Image_2026-02-07_at_15.28.11_qk9p6t.jpg", category: "Student"},
            {name: "Manja Ranjeeth", details: "B.Tech | NIT Warangal (2027)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770459674/WhatsApp_Image_2026-02-07_at_15.50.16_jqejlr.jpg", category: "Student"},
            {name: "Sable Pathesingh", details: "B.Tech | LPU (2027)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770458991/WhatsApp_Image_2026-02-07_at_15.08.31_e2gcld.jpg", category: "Student"},
            {name: "Manja Charanjeeth", details: "B.Tech | RGIPT Amethi (2028)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770461903/WhatsApp_Image_2026-02-07_at_16.24.39_wbka9l.jpg", category: "Student"},
            {name: "Baman Vijay", details: "B.Tech | NIT Warangal (2029)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770471782/Photo_-_Baman_Vijay_xerdfm.jpg", category: "Student"},
            {name: "Vamshi Baman", details: "B.Tech | NIT Warangal (2029)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770572121/28010_optimized_900_-_Baman_Vamshi_rvludr.jpg", category: "Student"},
            {name: "T Jail singh", details: "BA History | Govt City College (2026)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770459947/WhatsApp_Image_2026-02-07_at_15.55.19_q3anmf.jpg", category: "Student"},
            {name: "Bardal Ganesh", details: "BA | Govt City College (2028)", photo: "https://res.cloudinary.com/dawr322yk/image/upload/v1770478671/Ganesh_-_Bardal_Ganesh_riecuo.jpg", category: "Student"}
        ];

        function toggleEdge() { document.getElementById('mainEdgePanel').classList.toggle('active'); }
        function display(sId) {
            const ids = ["section1","section2","section3","section4","section5","section6","section7","section8","section9","section10","section11","section12"];
            ids.forEach(id => { if(document.getElementById(id)) document.getElementById(id).style.display = (id === sId) ? "block" : "none"; });
        }
        function filterData(listId, val) {
            let filter = val.toLowerCase();
            let cards = document.querySelectorAll('#' + listId + ' .profile-card');
            cards.forEach(card => card.style.display = card.innerText.toLowerCase().includes(filter) ? "block" : "none");
        }

        async function fetchNewEntries() {
            const apiURL = "https://script.google.com/macros/s/AKfycbxIdJ8i6PzTNWXj5mWlMDXBvzgEjVPiknzMZ_cfz8kVhhzRM91EsQQu1vd9YCC9qBPZ/exec"; 
            const defaultIcon = "https://cdn-icons-png.flaticon.com/512/149/149071.png";
            const containers = {"Student":"studentList","Teacher":"teacherList","Police":"policeList","Army":"armyList","Healthcare":"healthcareList","Banking":"bankingList","Railways":"railwayList","Others":"othersList"};

            // Clear old content
            Object.values(containers).forEach(cId => { if(document.getElementById(cId)) document.getElementById(cId).innerHTML = ""; });

            // RENDER HARDCODED DATA
            permanentData.forEach(item => renderCard(item, containers, defaultIcon));

            // RENDER NEW SHEET DATA
            try {
                const res = await fetch(apiURL);
                const sheetData = await res.json();
                sheetData.forEach(item => renderCard(item, containers, defaultIcon));
            } catch (e) { console.log("Static Mode Ready"); }
        }

        function renderCard(item, containers, defaultIcon) {
            let photo = (item.photo && item.photo.includes("http") && !item.photo.includes("drive.google.com")) ? item.photo : defaultIcon;
            let card = `<div class="profile-card shadow-sm p-3 mb-4"><div class="d-flex align-items-center"><img src="${photo}" class="profile-img mr-3"><div class="profile-info"><h3 class="name-text">${item.name}</h3><p class="detail-text">${item.details}</p></div></div></div>`;
            let cId = containers[item.category];
            if(document.getElementById(cId)) document.getElementById(cId).innerHTML += card;
        }

        window.onload = fetchNewEntries;
    </script>
</body>
</html>